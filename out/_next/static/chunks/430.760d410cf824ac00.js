"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{6430:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(5893),i=n(7294),o=n(9477),r=n(9365),s=n(1217);var c=n(1026);var u=function(){var e=(0,i.useRef)(),t=(0,i.useState)(!0),n=t[0],u=t[1],d=(0,i.useState)(),h=d[0],l=d[1],v=(0,i.useState)(),w=(v[0],v[1]),f=(0,i.useState)(new o.Pa4(0,-.5,0))[0],S=(0,i.useState)(new o.Pa4(50,10,25))[0],p=(0,i.useState)(new o.xsS)[0],m=(0,i.useState)(),E=(m[0],m[1]),x=(0,i.useCallback)((function(){var t=e.current;if(t&&h){var n=t.clientWidth,a=t.clientHeight;h.setSize(n,a)}}),[h]);return(0,i.useEffect)((function(){var t=e.current;if(t&&!h){var n=t.clientWidth,a=t.clientHeight,i=new o.CP7({antialias:!0,alpha:!0});i.setPixelRatio(window.devicePixelRatio),i.setSize(n,a),i.outputEncoding=o.knz,t.appendChild(i.domElement),l(i);var c=new o.cPb(5,n/a,1,100);c.position.copy(S),c.lookAt(f),w(c);var d=new o.Mig(16777215,1.5);p.add(d);var v=new r.z(c,i.domElement);v.autoRotate=!0,v.target=f,v.enableZoom=!1,v.autoRotateSpeed=.3,E(v),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},a=n.receiveShadow,i=n.castShadow;return new Promise((function(n,o){(new s.E).load(t,(function(t){var o=t.scene;o.name="pc",o.position.y=0,o.position.x=0,o.receiveShadow=a,o.castShadow=i,e.add(o),o.traverse((function(e){e.isMesh&&(e.castShadow=i,e.receiveShadow=a)})),n(o)}),void 0,(function(e){o(e)}))}))}(p,"/pc.glb",{receiveShadow:!0,castShadow:!1}).then((function(){z(),u(!1)}));var m=null,x=0;function z(){if(m=requestAnimationFrame(z),(x=x<=100?x+1:x)<=100){var e=S,t=2*(n=x/120,-Math.sqrt(1-Math.pow(n-1,4))*Math.PI);c.position.y=5,c.position.x=e.x*Math.cos(t)+e.z*Math.sin(t),c.position.z=e.z*Math.cos(t)-e.x*Math.sin(t),c.lookAt(f)}else v.update();var n;i.render(p,c)}return function(){console.log("unmount"),cancelAnimationFrame(m),i.dispose()}}}),[]),(0,i.useEffect)((function(){return window.addEventListener("resize",x,!1),function(){window.removeEventListener("resize",x,!1)}}),[h,x]),(0,a.jsx)(c.Oi,{ref:e,children:n&&(0,a.jsx)(c.j_,{})})}}}]);